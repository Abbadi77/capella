<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>GitAdapter</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/org.polarsys.capella.doc/html/styles.css"/></head><body><h1 id="Version_Control_Systems_.28VCS.29_with_GIT">Version Control Systems (VCS) with GIT</h1><h2 id="Installation">Installation</h2><h3 id="Installation_from_update_sites">Installation from update sites</h3><ol><li>Install the correct version of Capella.</li><li>Download the correct version of EGit.<ul><li>For Capella 1.1 based on Mars.2 use the following link (EGit 4.2.0:<br/> <a href="http://www.eclipse.org/downloads/download.php?file=/egit/updates-4.2/org.eclipse.egit.repository-4.2.0.201601211800-r.zip">http://www.eclipse.org/downloads/download.php?file=/egit/updates-4.2/org.eclipse.egit.repository-4.2.0.201601211800-r.zip</a></li></ul></li><li>Install EGit:<ul><li>In Capella, select Window &gt; Preferences &gt; Install/Update &gt; Available Software Sites &gt; Add… &gt; Archive… and select the downloaded ZIP file.</li><li>Select "Eclipse Git Team Provider" and "JGit", click Next.</li><li>After a few seconds, a warning page shows up: click Next, "I accept", "Finish" then "Yes".</li><li>If you click the "+" button in the top right-hand corner near the "Capella" perspective button, you should now see a "Git" perspective available.</li></ul></li><li>Download the correct version of EMF Diff/Merge.<ul><li>For Capella 1.1 use the following link (EMF-DiffMerge-0.7.0):<br/>  <a href="http://www.eclipse.org/downloads/download.php?file=/diffmerge/releases/0.7.0/EMF-DiffMerge-0.7.0.v20161020-1434-Site-Incubation.zip">http://www.eclipse.org/downloads/download.php?file=/diffmerge/releases/0.7.0/EMF-DiffMerge-0.7.0.v20161020-1434-Site-Incubation.zip</a></li></ul></li><li>Install EMF Diff/Merge:<ul><li>In Capella, select Window &gt; Preferences &gt; Install/Update &gt; Available Software Sites &gt; Add… &gt; Archive… and select the downloaded ZIP file.</li><li>Select "EMF Diff/Merge EGit Integration Feature (Incubation)", click Next.</li><li>Click Next, "I accept", "Finish", "OK", "Yes".</li></ul></li></ol><h2 id="Tutorials">Tutorials</h2><p>These tutorials assume that you are familiar with Git and you knwo how it works.<br/>
If you're new to Git or distributed version control systems generally, then you might want to read <a href="http://127.0.0.1:54666/help/topic/org.eclipse.egit.doc/help/EGit/Git_For_Eclipse_Users/Git-For-Eclipse-Users.html">Git for Eclipse Users</a> first.<br/>
More background and details can be found in the on-line book <a href="https://git-scm.com/book/en/v2">Pro Git</a>.</p><p>Capella Git Adapter is based on EMF Diff/Merge, help and details about it can be found in <a href="http://127.0.0.1:53149/help/topic/org.eclipse.emf.diffmerge.doc/html/EMF-DiffMerge.html">EMF Diff/Merge Guide</a>.</p><table border="1"><tr><td><p><img height="48" width="48" border="0" src="images/Information.png"/></p></td><td><b>Please consider the given process instructions:</b><br/><p><ul>
<li>Always validate your model before a commit.</li>
<li>Select all fragments on commit if the model is fragmented.</li>
<li>Close the session before a pull, rebase or merge operation.</li>
<li>To handle large files in Git Repositories, more than 2GB, there are multiple 3rd party implementations that will try to solve the problem, many of them using similar paradigm as a solution.<br/>We recommend you to use git-Iss. (TODO see with OCO)</li>
<li>Content of all model files (aird, airdfragment, melodymodeller, melodyfragment, afm, ...) are declared as ASCII Text and not binary files.<br/>(see Capella : Window &gt; Preferences &gt; Team &gt; File Content)</li>
</ul></p></td></tr></table><h3 id="Basic_Tutorial">Basic Tutorial</h3><p>This tutorial provides a step by step walk-through of the Capella Git Adapter.</p><h4 id="Git_perspective">Git perspective</h4><p><ul>
<li>To open the Git perspective: go to menu Window &gt; Perspective &gt; Open perspective &gt; Other... &gt; Git.</li>
</ul></p><h4 id="Creating_Repositories">Creating Repositories</h4><table border="1"><tr><td><p><img height="48" width="48" border="0" src="images/Information.png"/></p></td><td><b>Some considerations for Git Repositories to be used in Capella:</b><br/><p><ul>
<li>Don't create the Repository within the Capella workspace.</li>
<li>Don't create a Repository with a Capella project as root.</li>
</ul></p></td></tr></table><ul><li>In the Git Repositories view, create a new Git Repository: click "Create a new local Git repository".<br/><br/>-<img height="498" width="531" align="middle" border="0" src="images/CreateRepo.png"/></li></ul><p><br/></p><ul><li>In the opened wizard, select a path on your file-system to a non-existing folder, click Finish.<br/><br/>-<img height="359" width="441" border="0" src="images/CreateRepoWizard.png"/></li></ul><p><br/></p><ul><li>The created Git Repository will be shown in  the Git Repositories view.<br/><br/>-<img height="520" width="450" border="0" src="images/CreatedRepo.png"/><br/></li></ul><h4 id="Put_the_Capella_project_under_source_control_on_the_Git_Repository">Put the Capella project under source control on the Git Repository</h4><ul><li>Now, switch back to the Capella perspective ("Capella" button in the top right-hand corner) and create a new Capella Project.</li><li>Right-click the project in the Capella Project Explorer &gt; Team &gt; Share Project...<br/><br/>-<img height="580" width="480" border="0" src="images/ShareProject.png"/></li></ul><p><br/></p><ul><li>Select Git and click Next.<br/><br/>-<img height="410" width="460" border="0" src="images/ShareProjectGit.png"/></li></ul><p><br/></p><ul><li>Select your repository and click Finish.<br/><br/>-<img height="450" width="590" border="0" src="images/ConfigureGitRepo.png"/></li></ul><h4 id="Commit_the_project">Commit the project</h4><ul><li>Right-click the project in the Capella Project Explorer &gt; Team &gt; Commit...<br/><br/>-<img height="800" width="530" border="0" src="images/Commit.png"/></li></ul><p><br/></p><ul><li>Type "Initial commit" in the message field, select all files, click "Commit".A "master" branch is being created.<br/><br/>-<img height="620" width="630" border="0" src="images/CommitMessage.png"/></li></ul><p><br/></p><ul><li>Create for example a System Data Flow Blank diagram, create a few functions and exchanges, save.</li><li>Commit the changes like above, for example with the "First changes" message.</li></ul><h4 id="Check_the_History">Check the History</h4><ul><li>Right-click the .melodymodeller file &gt; Team &gt; Show in History. You can now see your two commit in the History view.<br/><br/>-<img height="215" width="666" border="0" src="images/History.png"/></li></ul><p><br/></p><ul><li>In the History view, select the two commits and select "Compare with each other" then "Finish".You should see the differences between your commits with the Capella Diff/Merge tool. But you cannot modify them (merge), because you cannot modify the history.<br/><br/>-<img height="390" width="550" border="0" src="images/CompareCommit.png"/></li></ul><p><br/></p><dl><dd>-<img height="670" width="840" border="0" src="images/CompareEditor.png"/></dd></dl><h4 id="Check_the_current_changes_wrt._the_last_commit">Check the current changes wrt. the last commit</h4><ul><li>Make new changes in your diagram including the renaming of a function, save.</li></ul><ul><li>Right-click the .melodymodeller file &gt; Compare with &gt; Head revision &gt; Finish. You have the possibility to undo some of the current changes at a fine grain with the diff/merge tool.<br/><br/>-<img height="600" width="470" border="0" src="images/CompareWithHead.png"/></li></ul><p><br/></p><dl><dd>-<img height="470" width="988" border="0" src="images/CompareHeadActions.png"/></dd></dl><h3 id="Advanced_Tutorial_With_Conflicts">Advanced Tutorial With Conflicts</h3></body></html>