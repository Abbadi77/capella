<!--
  Copyright (c) 2006, 2015 THALES GLOBAL SERVICES.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html

  Contributors:
       Thales - initial API and implementation
-->

{| border="1"
|-
| [[Image:Images/warning.png|34x34px]]
| Warning: The Capella User Manual is currently being refactored. This page might contain obsolete diagram look and feel / user interface screenshots / references to Melody Advance, the ancestor of Capella.
|}  

= Diagrams tips and tricks =
 
== Setting default style for links: oblique or rectilinear ==
 
By default in Capella, most of the diagrams have oblique links.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m7613115c.png|531x197px]]

'''Figure 1: Oblique connections'''

It is possible to change these links from a diagram so that they use a rectilinear style. From the diagram toolbar, select all connectors and apply the style change.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m72f203f0.png|515x190px]]

'''Figure 2: Rectilinear connections'''

It is also possible to set the rectilinear style as a global default for Capella. To do so, use the dedicated Preferences as shown below.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_5c4b92b6.png|617x433px]]

'''Figure 3: Preference to select default style for connectors'''

== Uniform distribution tools ==
 
Distribute tools propose to separate the selected elements homogeneously. It proposes to harmonize the distances between elements considering the distance between their center, or the gap between their borders, vertically or horizontally. This is why four tools are proposed, either in the toolbar, in the contextual menu or in the diagram menu. To be available those tools need at least two distances, i.e. at least three elements selected of the same architectural level.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_6e4109f3.png|320x148px]]

'''Figure 4: Distribute tools in the diagram editor toolbar'''

<br>

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_a38ed9a.png|716x433px]]

'''Figure 5: Distribute tools in the contextual menu'''

<br>

For instance, distribute tools will adjust the layout in the following diagram:
[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_51b05f77.png|998x305px]]

'''Figure 6: Distribute tools in action'''

== Reset Origin ==
 
Reset origin tools are useful when some elements are not visible because their layout is not centered. Reset origin tools will automatically adjust the layout in order to have the origin at the top left of the container or editor. The origin is calculated using the position of the element at the top of the selection and the position of the one in the left.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_77868a11.png|332x276px]]

'''Figure 7: Not centered diagram for test'''

<br>

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m6d14d040.png|515x321px]]

'''Figure 8: Reset Origin in the Contextual Menu'''

The origin is now on the top left of Logical System, which result in a better layout for the user.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_3dedd8b1.png|330x276px]]

'''Figure 9: New layout after the reset origin action'''

== Select All ==
 
Trying to select all the connectors (edge) or all the Shapes (Nodes) in a big diagram can be tedious. The select all tool provide a way to easily select all the elements, all the connector or all the shapes in just one click. This is particularly useful when we want to modify the appearance of all the elements at the same time or to perform an action (show hide, delete &hellip;) only on connectors or only on nodes.

Select all actions can be accessed in the editor toolbar or in the contextual menu of the editor.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_mec122fe.png|228x98px]]

'''Figure 15: Select all tools in the diagram editor toolbar'''

<br>

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m2d5cddf5.png|756x491px]]

'''Figure 16: Select all Shapes result'''

<br>

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m5bd4aef6.png|739x487px]]

'''Figure 17: Select all connectors result'''

== Auto Size ==
 
Auto size tool propose to resize all selected elements. The size is automatically adjust in order to optimize the space to avoid the diagram to be too big but keep enough space to show all the information (sub elements, labels, etc.) without modifying the original layout.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_38b9a3a9.png|702x83px]]

'''Figure 18: Auto size tool in the diagram editor toolbar'''

<br>

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_114912fa.png|592x387px]]

'''Figure 19: Before the resize tool'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_4387d6d2.png|619x380px]]

'''Figure 20: After the auto size on all elements'''

<br>

== Make same width / heigt ==
 
To have a better looking diagram, it is important that elements which have the same role or importance are represented with the same size. To adjust easily the size of a set of element, it is recommended to use the Make height and width same size tools. To perform this action, the selected elements must contain at least two nodes. This tool will automatically adjust the size of the first selected element to fit with the last selected one.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_740f48ce.png|594x556px]]

'''Figure 21: Make same width/length tool in toolbar and in contextual menu'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m4b0b0804.png|642x239px]]

'''Figure 22: Set of selected elements before application of this tool'''

Note that the selection appears differently for the last selected element which will give its size to the other one.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_13b01b21.png|545x231px]]

'''Figure 23: Result of the make same width/length tools'''

All the selected elements have the size of DataAcquisitionMgt.

== Grid visible ==
 
During diagram creation, grid can be visible or not according to the following preference:

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_5ce27242.png|707x432px]]

'''Figure 24: Grid visible preference'''

Note that the grid spacing can also be set (here it is set at 10 pixels). Once this preference is checked, the newly created diagram will display a grid as in the following pictures.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m215c821.png|601x290px]]

'''Figure 25: Diagram editor with a visible grid'''

== Snap to grid ==
 
Capella provides a preference to activate or deactivate the snap to grid behavior.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m3d5aebbe.png|633x388px]]

'''Figure 26: Snap to grid preference'''

When this preference is active, new diagrams behavior will be to align the border of element with the grid (which can be visible or not).

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_45a14775.png|394x171px]]

'''Figure 27: Drag and Drop with snap to grid preference activated'''

This behavior can be modify on an existing diagram via the Snap To Grid options in the Rulers and Grid tab of the diagram Properties view.,

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m217db488.gif|370x194px]]

'''Figure 28: Snap to grid option'''        

{| border="1"
|-
| [[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m262394d3.png|45x45px]]
| This behavior can be override by using the Alt key during the drag and drop or resize actions to ignore the grid as if the preference was disabled.
Restore defaults in the Rulers and Grid Tab will automatically initialize these options according to the Sirius preferences.
|}  

== Snap to Shapes ==
 
Snap to shapes options aims to ease diagram elements alignment at the creation or during a drag and drop of existing element.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_47f32841.gif|476x417px]]

'''Figure 29: Snap to Shapes in Sirius preference for new diagrams'''

When this preference is active, new diagrams will display a line to compare alignment with other existing elements (borders and centers). This preference is set to initialize the Snap To Shapes properties in the Rulers and Grid tab of the diagram Property View. This property activates or deactivates this behavior in real time in the editor.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_6f217e35.gif|367x196px]]

'''Figure 30: Snap To Shapes option for current diagram'''

While active, palette creation tools and drag and drop actions will display lines which are close to the current cursor.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_5e595306.png|389x178px]]

'''Figure 31: Snap to Shapes activated for element creation with the palette'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m5505d461.gif|555x214px]]

'''Figure 32: Snap to Shapes activated for element during a Drag and Drop action'''

<br>

== Copy / Paste Layout ==
 
To initialize the layout of a diagram from an existing diagram, Capella provides copy / paste layout tools. Those tools can only be used for two diagrams which represent the same elements. The tool to copy the layout of selected element is only available in the diagram editor toolbar when at least one element is selected. And the paste layout tool is available on the diagram editor when there is no current selection.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m1cfa7de5.gif|333x40px]]

'''Figure 33: Copy layout tool'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_79d54579.gif|346x41px]]

'''Figure 34: Paste layout tool'''

<br>

Copy the layout of the selected elements will only remember the layout for the current selection.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_277295ca.gif|627x333px]]

'''Figure 35: Layout model'''

Now we can initialize a new model and all the information we want to represent (or work on an existing one).

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m275755e7.gif|513x270px]]

'''Figure 36: New diagram with a default layout'''

To initialize the layout of this diagram we can &ldquo;paste the layout&rdquo; of the first diagram.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m3a4a06e5.gif|629x339px]]

'''Figure 37: New diagram with the layout copied from the model'''

== Selection ==
 
=== Left to right ===
 
When the selection is performed from left to right, the selected elements are the elements which are entirely contained by the selection rectangle.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_3c70f94e.gif|472x203px]]

'''Figure 38: Left to right selection action'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_4a5941a0.png|481x196px]]

'''Figure 39: Left to right selection result'''

=== Right to Left ===
 
<br>

When the selection is performed from right to left, the selected elements are the one which touched by the selection rectangle.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_3c70f94e.gif|472x203px]]

'''Figure 40: Right to left selection action'''

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m7899e751.gif|475x199px]]

'''Figure 41: Right to left selection result'''

<br>

== Copy Paste of Notes ==
 
To quickly copy paste Notes on a diagram, '''click on CTRL and move the Notes''': new Notes are created.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m7dd84077.png|473x138px]]

'''Figure 42: Duplicate note with shortcut.'''

<br>

== Create several elements in row ==
 
When creating elements with the palette of a diagram, '''holding the CTRL key allows keeping the current creation tool active''' for another creation.

== Quick Search ==
 
'''CTRL-O on a diagram opens a pop up listing all elements on the diagram'''. Selecting one of these elements brings the focus on this element and centers the diagram on this element.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m10775b3b.png|563x353px]]

'''Figure 43: Quick search in diagram.'''

Hidden elements are displayed in italic in this quick search. Selecting a visible element in this list will automatically do a focus on this element.

== Export as images ==
 
Each diagram can be exported as image (jpg, png, svg, bmp or gif format) using diagram toolbar. '''All diagrams can be extracted at once''', right clicking '''on Aird analysis''' and choosing '''contextual menu &quot;Export representations as images&quot;'''.

Note: right clicking on a Cross Table and choosing contextual menu &quot;Export/CSV&quot; provides a CSV file.

[[Image:Images/5.6.%20Diagrams%20Tips%20and%20Tricks_html_m76e8132a.png|449x175px]]

'''Figure 44: Export configuration.'''

<br>
