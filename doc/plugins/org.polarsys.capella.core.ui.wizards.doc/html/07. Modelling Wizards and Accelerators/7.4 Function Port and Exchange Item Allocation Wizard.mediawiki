<!--
  Copyright (c) 2006, 2015 THALES GLOBAL SERVICES.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html

  Contributors:
       Thales - initial API and implementation
-->

{| border="1"
|-
| [[Image:Images/warning.png|34x34px]]
| Warning: The Capella User Manual is currently being refactored. This page might contain obsolete diagram look and feel / user interface screenshots / references to Melody Advance, the ancestor of Capella.
|}  

= Function Port and Exchange Item Allocation Wizard =

== PRINCIPLES ==

Capella Function Port and EI Allocation tool provides means manage Function / Port / Exchange Item traceability and allocations between two engineering phases.

With this tool a user can perform Exchange item allocation from one or several functions located in the source engineering phase to other functions in the following engineering phase, by launching a dedicated wizard via the &ldquo;Function Port and EI Traceability Wizard&rdquo; command of the contextual menu (see the following figure).

<br>

[[Image:Images/7.4%20Function%20Port%20and%20Exchange%20Item%20Allocation%20Wizard_html_5cde59bb.png|470x407px]]

<br>

== Source Engineering Phase (SEP) ==

The left pane of the following wizard represent all elements to be refined / enriched between the source architecture (SEP) and the target Architecture (TEP).

[[Image:Images/7.4%20Function%20Port%20and%20Exchange%20Item%20Allocation%20Wizard_html_md5d81bf.png|314x296px]]

In the above figure, the Function &ldquo;LogicalFunction 1&rdquo; has one Port &ldquo;FOP1&rdquo; which exposes the Exchange Item &ldquo;ExchangeItem1&rdquo;.

<br>

=== Target Engineering Phase (TEP) === 

The right pane contains all the TEP elements contributing to the realization of the SEP elements.

[[Image:Images/7.4%20Function%20Port%20and%20Exchange%20Item%20Allocation%20Wizard_html_m7cfae2ea.png|348x294px]]

In the above figure, the Function &ldquo;PhysicalFunction 1&rdquo; gets a new Exchange Item provided by &ldquo;LogicalFunction 1&rdquo;.

<br>

=== Features=== 

* All displayed SEP Functions without one traceability link coming from the TEP is shown to user with RED color.
* All displayed SEP Ports without one traceability link coming from the TEP is shown to user with RED color.
* When an Exchange Item allocated to one Port FP located in the SEP is not allocated to at least one of the port realization in the TEP, the Exchange Item line will be displayed with red color in the left pane.
* When a Function or Function Port is selected in the left pane, the tracing elements in the right pane are highlighted.
* A user can drag and drop all displayed Exchange Items from left to right or from right to left pane.
* When performing drag and drop of Exchange Item allocations from a SEP Port to a TEP Port, a traceability link between the two Ports is created automatically if it does not exist yet
* All elements displayed in the wizard can be shown in Capella Explorer or Semantic Browser by using a contextual menu &ldquo; Show in Capella Explorer&rdquo;
 
=== Creation of elements in the TEP (Right pane of the wizard)=== 

* '''Elements creation or modification'''
* '''Creation of Traceability link'''  
* Elements creation or modification
** The wizard provides a button to create a new Function under an existing one.
** User can rename directly a source or target element in the wizard.
** The wizard provides a contextual menu to create a new Input Port under an existing Function (see the following figure).
** The wizard provides a contextual menu to create a new output Port under an existing Function (see the following figure).
** By using a contextual menu, the user can delete a Function or create a new Function under an existing one.
* Creation of Traceability link
** The wizard provides mean to manually create traceability between Functions in SEP and TEP.
** The wizard provides mean to manually create 1-N and N-1 traceability link between Functions in SEP and TEP.
** User can create a traceability link between selected elements by using two contextual menu commands : “Start link” and “Make link”:
*** User can create a multiple link from TEP to SEP by selecting all source and target elements and using a contextual menu “start link”.<br> [[Image:Images/7.4%20Function%20Port%20and%20Exchange%20Item%20Allocation%20Wizard_html_d1af40e.png|276x253px]]
*** To create a multiple new links between TEP and SEP, user have to make the following operations :
**** First, user must select one or more elements from the TEP and using the menu entry “Start Link”.
**** Then user can select one or more elements from SEP and select the menu entry “make link” to create one or more link towards others elements of the TEP <br> [[Image:Images/7.4%20Function%20Port%20and%20Exchange%20Item%20Allocation%20Wizard_html_m7817c5f8.png|276x262px]]

<br>

=== Validation Rules and Resolutions ===

<br>                                                       

{| border="1"
|-
| '''Constraint ID'''
| '''Model Validation'''
| '''Applied to source'''
| '''Applied to target'''
| '''Quick Fix'''
| '''Rule Description'''
|-
| '''TC_DF_02'''
| Y
| --
| --
| Y
| When a realization link exists between System Function Port and Logical Function Port, another realization link should exist between System Function and Logical Function.
|-
| '''TC_DF_10'''
| Y
| Y
| N
| Y
| Every System Function Port must be realized by at least one Logical Function Port.
|-
| '''TC_DF_11 &amp; TC_DF_12'''
| Y
| Y
| Y
| Y
| When an Exchange Item is allocated to a System Function Port and a Logical Function Port, with an existing realization link between System Function and Logical Function, another realization link between System Function Port and Logical Function Port must exist.
|-
| '''TC_DF_13'''
| Y
| Y
| Y
| Y
| If a realization link between a System Function Port (SFP) and a Logical Function Port (LFP) exists, it shall exist at least one System Analysis Exchange Item allocated by SFP who is realized by a Logical Analysis Exchange Item allocated by LFP.
|-
| '''TC_DF_14'''
| Y
| Y
| Y
| Y
| If a realization link between a System Function Port and a Logical Function Port exist, then the System Function shall be realized by the Logical Function.
|} 

<br>
