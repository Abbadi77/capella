--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: CreateAndApplyPatternTest1
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _w9skQD0iEea8NM8f4KHJlA
Runtime-Version: 2.0.2.201511100828
Save-Time: 6/28/16 4:28 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Capella Project Explorer" | get-tree | get-menu "New/Capella Project" | click
with [get-window "New Capella Project"] {
    get-editbox | set-text patternProject
    get-button Finish | click
}
get-view "Capella Project Explorer" | get-tree 
    | select "patternProject/patternProject.aird/patternProject/Logical Architecture/Logical System" 
    | get-menu "New Diagram \\/ Table.../Logical Architecture Blank" | click
get-window "New Logical Architecture Blank" | get-button OK | click
with [get-editor "[LAB] Logical System"] {
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System"] {
        with [get-edit-part -name "Logical System" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            mouse-move 86 46 button1 -height 68 -width 148
            mouse-press 86 46 button1 -height 68 -width 148
        }
        mouse-move 122 81 -mask 524288 -height 693 -width 1272
        mouse-drag 162 121 button1 524288 -height 693 -width 1272
        mouse-release 162 121 button1 524288 -height 693 -width 1272
        with [get-edit-part -name "Logical System"] {
            get-edit-part -className DNodeContainerViewNodeContainerCompartmentEditPart | mouse-move 142 63 -height 68 
                -width 148
            with [get-handle ResizeHandle -index 4] {
                mouse-move 4 2 button1 -height 7 -width 7
                mouse-press 4 2 button1 -height 7 -width 7
            }
        }
        mouse-move 276 177 -mask 524288 -height 689 -width 1268
        mouse-drag 716 452 button1 524288 -height 689 -width 1268
        mouse-release 716 452 button1 524288 -height 689 -width 1268
        mouse-move 1230 253 -height 689 -width 1268
    }
    with [get-palette] {
        get-palette-entry "In Flow Port" | mouse-move 68 17 -height 23 -width 125
        get-palette-entry "Component Exchange" | mouse-move 68 25 -height 37 -width 125
        get-palette-entry "Logical Actor" | mouse-move 61 7 -height 23 -width 125
        with [get-palette-entry "Logical Component"] {
            mouse-move 62 28 button1 -height 37 -width 125
            mouse-press 62 28 button1 -height 37 -width 125
            get-figure 0 | drag-start 62 28
        }
        drag-end
    }
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System" 
        | get-edit-part -className DNodeContainerViewNodeContainerCompartmentEditPart] {
        mouse-move 22 62 -height 381 -width 651
        mouse-hover 22 62 -height 381 -width 651
    }
    with [get-palette | get-palette-entry "Logical Component"] {
        mouse-move 54 8 button1 -height 37 -width 125
        mouse-press 54 8 button1 -height 37 -width 125
        mouse-release 54 8 button1 524288 -height 37 -width 125
    }
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System"] {
        with [get-edit-part -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            mouse-move 28 53 button1 CTRL -height 381 -width 651
            mouse-press 28 53 button1 CTRL -height 381 -width 651
            mouse-move 54 71 -mask 786432 -height 381 -width 651
        }
        mouse-drag 268 182 button1 786432 -height 383 -width 653
        mouse-release 268 182 button1 786432 -height 383 -width 653
    }
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System"] {
        with [get-edit-part -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            mouse-move 344 51 button1 CTRL -height 381 -width 651
            mouse-press 344 51 button1 CTRL -height 381 -width 651
            mouse-move 351 67 -mask 786432 -height 381 -width 651
        }
        mouse-drag 600 180 button1 786432 -height 383 -width 653
        mouse-release 600 180 button1 786432 -height 383 -width 653
    }
    get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" | mouse-move 1144 356 -height 689 -width 1268
    with [get-palette] {
        get-palette-entry "Port Allocation" | mouse-move 83 3 -height 23 -width 125
        get-palette-entry "Functional Exchange" | mouse-move 80 18 -height 37 -width 125
        with [get-palette-entry "Logical Function"] {
            mouse-move 74 14 button1 -height 23 -width 125
            mouse-press 74 14 button1 -height 23 -width 125
            mouse-release 74 14 button1 524288 -height 23 -width 125
        }
    }
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System"] {
        mouse-move 918 293 -height 689 -width 1268
        with [get-edit-part -name "Logical System" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart | get-edit-part -name "LC 1"] {
            with [get-edit-part -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                mouse-move 37 43 button1 CTRL -height 129 -width 239
                mouse-press 37 43 button1 CTRL -height 129 -width 239
                mouse-move 88 84 -mask 786432 -height 129 -width 239
            }
            mouse-drag 200 110 button1 786432 -height 131 -width 241
            mouse-release 200 110 button1 786432 -height 131 -width 241
        }
    }
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System" 
        | get-edit-part -className DNodeContainerViewNodeContainerCompartmentEditPart] {
        mouse-move 294 146 -mask CTRL -height 381 -width 651
        with [get-edit-part -name "LC 2"] {
            with [get-edit-part -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                mouse-move 46 42 button1 CTRL -height 127 -width 259
                mouse-press 46 42 button1 CTRL -height 127 -width 259
                mouse-move 50 45 -mask 786432 -height 127 -width 259
            }
            mouse-drag 218 101 button1 786432 -height 129 -width 261
            mouse-release 218 101 button1 786432 -height 129 -width 261
        }
    }
    with [get-diagram -index 1] {
        get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart | get-edit-part -name "LC 2" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartment2EditPart | mouse-move 153 108 -height 127 -width 259
        key-type ESC
        with [get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            mouse-move 282 146 -height 381 -width 651
            with [get-edit-part -name "LC 1" | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                with [get-edit-part -name "LogicalFunction 1" | get-edit-part -className SquareEditPart] {
                    mouse-move 114 44 button1 CTRL -height 71 -width 161
                    mouse-press 114 44 button1 CTRL -height 71 -width 161
                    mouse-release 114 44 button1 786432 -height 71 -width 161
                }
                mouse-move 227 80 button1 CTRL -height 129 -width 239
                mouse-press 227 80 button1 CTRL -height 129 -width 239
                mouse-release 227 80 button1 786432 -height 129 -width 239
            }
            with [get-edit-part -name "LC 2" | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                mouse-move 35 76 button1 CTRL -height 127 -width 259
                mouse-press 35 76 button1 CTRL -height 127 -width 259
                mouse-release 35 76 button1 786432 -height 127 -width 259
                mouse-move 44 76 -mask CTRL -height 127 -width 259
                with [get-edit-part -name "LogicalFunction 2" | get-edit-part -className SquareEditPart] {
                    mouse-move 52 37 button1 CTRL -height 61 -width 171
                    mouse-press 52 37 button1 CTRL -height 61 -width 171
                    mouse-release 52 37 button1 786432 -height 61 -width 171
                    mouse-hover 52 37 -height 61 -width 171
                    mouse-press 52 37 button3 -height 61 -width 171
                    mouse-release 52 37 button3 2097152 -height 61 -width 171
                }
            }
        }
        get-menu "Patterns/Create Pattern..." | click
    }
}
with [get-window "New Pattern"] {
    get-button "New..." | click
    with [get-window "Modeling Patterns"] {
        get-tree | select patternProject
        get-button OK | click
    }
    get-button Finish | click
}
get-window "Modeling Patterns" | get-button OK | click
with [get-editor "[LAB] Logical System" | get-diagram -index 1] {
    with [get-edit-part -name "[LAB] Logical System" | get-edit-part -name "Logical System" | get-edit-part 
        -className DNodeContainerViewNodeContainerCompartmentEditPart] {
        mouse-move 251 253 button1 -height 381 -width 651
        mouse-press 251 253 button1 -height 381 -width 651
        mouse-release 251 253 button1 524288 -height 381 -width 651
        mouse-move 264 262 button3 -height 381 -width 651
        mouse-press 264 262 button3 -height 381 -width 651
        mouse-release 264 262 button3 2097152 -height 381 -width 651
    }
    get-menu "Patterns/Apply Pattern..." | click
}
with [get-window "Apply Pattern"] {
    get-combo -after [get-label "Catalog:"] | select patternProject
    get-combo -after [get-label "Pattern:"] | select "LC 1 : LC 1"
    get-button Finish | click
}
with [get-window "Modeling Patterns"] {
    get-tree | select "patternProject/patternProject/Logical Architecture/Logical Functions/Root Logical Function"
    get-button OK | click
}
get-window "Modeling Patterns" | get-button OK | click
with [get-editor "[LAB] Logical System"] {
    with [get-diagram -index 1 | get-edit-part -name "[LAB] Logical System"] {
        mouse-move 774 419 -height 689 -width 1268
        with [get-edit-part -name "Logical System" | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            mouse-move 101 42 -height 381 -width 651
            with [get-edit-part -name "LC 1" -index 1 | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                mouse-move 208 34 button1 -height 129 -width 239
                mouse-press 208 34 button1 -height 129 -width 239
                mouse-move 211 39 -mask 524288 -height 129 -width 239
            }
            mouse-drag 241 257 button1 524288 -height 381 -width 651
            mouse-release 241 257 button1 524288 -height 381 -width 651
            with [get-edit-part -name "LC 1" -index 1 | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart] {
                mouse-hover 211 37 -height 129 -width 239
                mouse-move 204 39 -height 129 -width 239
                with [get-edit-part -name "LogicalFunction 1" | get-edit-part -className SquareEditPart] {
                    mouse-move 110 22 button1 -height 71 -width 161
                    mouse-press 110 22 button1 -height 71 -width 161
                    mouse-release 110 22 button1 524288 -height 71 -width 161
                }
            }
            with [get-edit-part -name "LC 2" -index 1 | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart | get-edit-part 
                -name "LogicalFunction 2" | get-edit-part -className SquareEditPart] {
                mouse-move 98 30 button1 CTRL -height 61 -width 171
                mouse-press 98 30 button1 CTRL -height 61 -width 171
                mouse-release 98 30 button1 786432 -height 61 -width 171
                mouse-hover 98 30 -mask CTRL -height 61 -width 171
            }
            with [get-edit-part -name "LC 1" -index 1 | get-edit-part 
                -className DNodeContainerViewNodeContainerCompartment2EditPart | get-edit-part 
                -name "LogicalFunction 1"] {
                with [get-edit-part -className SquareEditPart] {
                    mouse-hover 113 37 -height 71 -width 161
                    mouse-move 111 37 button1 -height 71 -width 161
                    mouse-press 111 37 button1 -height 71 -width 161
                    mouse-release 111 37 button1 524288 -height 71 -width 161
                }
                activate-direct-edit
            }
        }
    }
    get-editbox | click-text "1:13"
    get-diagram -index 1 | commit-direct-edit
}
with [get-editor "[LAB] Logical System" | get-diagram -index 1 | get-edit-part -name "[LAB] Logical System" 
    | get-edit-part -name "Logical System" | get-edit-part 
    -className DNodeContainerViewNodeContainerCompartmentEditPart] {
    get-edit-part -name "LC 1" -index 1 | get-edit-part -className DNodeContainerViewNodeContainerCompartment2EditPart 
        | get-edit-part -name "LogicalFunction 1" | get-edit-part -className SquareEditPart | get-property visible 
        | equals true | verify-true
    get-edit-part -name "LC 2" -index 1 | get-edit-part -className DNodeContainerViewNodeContainerCompartment2EditPart 
        | get-edit-part -name "LogicalFunction 2" | get-edit-part -className SquareEditPart | get-property visible 
        | equals true | verify-true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
